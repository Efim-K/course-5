# Курсовая 5

## Получение информации о о компаниях и вакансиях с сайта hh.ru и загрузить полученные данные в таблицы БД PostgreSQL

[![Python](https://img.shields.io/badge/-Python-464646?style=flat-square&logo=Python)](https://www.python.org/)

### Технологии:

- python 3.12
- coverage 7.5.0
- pip 24.0
- psycopg2 2.9.9

### Инструкция для развертывания проекта:

Клонирование проекта:

```
git clone https://github.com/Efim-K/course-5.git
```

Запуск:

Для запуска проекта необходимо создать виртуальное окружение venv:

1.Запустить команду, указанную ниже из директории проекта

*для Windows:*

```
python -m venv venv
```

*для Linux, macOS:*

```
python3 -m venv venv
```

2.Активировать виртуальное окружение

*для Windows:*

```
venv\Scripts\activate
```

*для Linux, macOS:*

```
source ./venv/bin/activate
```

3.Установить библиотеки

```
pip install -r requirements.txt
```

#### Условие задания

```
Проект по БД
В рамках проекта вам необходимо получить данные о компаниях и вакансиях с сайта hh.ru, спроектировать таблицы в БД PostgreSQL и загрузить полученные данные в созданные таблицы.

Основные шаги проекта
Получить данные о работодателях и их вакансиях с сайта hh.ru. Для этого используйте публичный API hh.ru и библиотеку 
requests. Выбрать не менее 10 интересных вам компаний, от которых вы будете получать данные о вакансиях по API.
Спроектировать таблицы в БД PostgreSQL для хранения полученных данных о работодателях и их вакансиях. Для работы с БД используйте библиотеку 
psycopg2. Реализовать код, который заполняет созданные в БД PostgreSQL таблицы данными о работодателях и их вакансиях.

Создать класс 
DBManager для работы с данными в БД, который будет подключаться к БД PostgreSQL и иметь следующие методы:

get_companies_and_vacancies_count()
 — получает список всех компаний и количество вакансий у каждой компании.
get_all_vacancies()
 — получает список всех вакансий с указанием названия компании, названия вакансии и зарплаты и ссылки на вакансию.
get_avg_salary()
 — получает среднюю зарплату по вакансиям.
get_vacancies_with_higher_salary()
 — получает список всех вакансий, у которых зарплата выше средней по всем вакансиям.
get_vacancies_with_keyword()
 — получает список всех вакансий, в названии которых содержатся переданные в метод слова, например python.

```

#### база данных и две таблицы в ней:

```
1) `Employers` - информация о компании:
- **employer_id** - идентификационный номер компании
- **employer_name** - название компании
- **company_url** - сайт компании


2) `Vacancies` - информация о вакансиях:
- **vacancy_id** - идентификационный номер вакансии
- **employer_id** - идентификационный номер компании
- **requirement** - требования
- **vacancy_name** - название вакансии
- **salary_from** - нижний диапазон зарплаты
- **salary_to** - верхний диапазон зарплаты  
- **currency** - валюта
- **vacancy_url** - ссылка на вакансию
```

Автор проекта Ефим Кашапов